---
layout: article
title: 用于大规模环境中机器人导航的语义表示
tag: [Semantic Segmentation,Path Planning,论文笔记]
excerpt: 使用球形相机对世界进行探索构建基于object的语义地图。在此基础上，进行模仿人类决策的路径选择和路径描述。
---
> Semantic Representation For Navigation In Large-Scale Environments



# 贡献
- 提出了一种考虑环境语义信息的路径选择框架
- 提出了根据语义信息描述路径的新方法

# 核心原理
## 1.语义地图的构建
- 使用球形相机捕捉场景
- 使用随机森林（Random Forests）进行像素级类别预测
- 使用全连接随机场（Fully Connected Conditional Random Field）对结果进行细化
- 把图像中的不同的语义物体连接起来，构成局部的semantic graph $\textbf{G}={A,E}$
> A代表物体语义类别作为节点，E代表语义区域相互连接的边

![](https://cdn.jsdelivr.net/gh/Mronne/MarkDownImg/img/20200320100620.png)

## 2.基于语义上下文的自定位
- 定位问题描述一个**content request problem**
- 从当前相机获取的标注图像中提取local semantic graph
- 将当前的submap和其他的submap比较相似性

$$\sigma\left(G_{1}, G_{2}\right)=\exp ^{1-\frac{N}{N_{m}}}$$

> $N_m$表示两个图中匹配的节点数，$N$表示当前视场中的节点数

- 最高得分$\sigma$对应的submap即为可能的位置

## 3.基于语义信息的Route Planning
- 路线定义为一系列邻接local submap的集合，实际是在global graph中找到一条路径
- 根据语义信息定义一个启发式的cost function来为每条边计算权重
- 权重越大，对这条边的惩罚越大

启发式代价函数在构造时考虑如下因素：
### 3.1 共享object的数目
- 为了保证机器人在导航时环境改变尽可能小，这样可大大减少定位丢失的情况
- 因此两个submaps共有的object数目越多，越应该采纳
- 定义Shared Object Score S为

$$S(G_1,G_2)=1-\sigma(G_1,G_2)$$

### 3.2 object 类别
- 在导航过程中不同的物体对导航的作用是不一样的，对每个物体赋值一个权重
- 动态物体不适合用于稳定landmark
- 定义Class Score C为每个shared object的类别权重均值
- 此均值可度量场景的动态性，动态性越强惩罚越高
$$C\left(G_{1}, G_{2}\right)=\frac{1}{N_{m}} \sum_{i \in A_{12}} w\left(c_{i}\right)$$

> $c_i$代表object i对应的类别，$w_i$代表其对应的权重

### 3.3 object的可观性
- 如果object在一个很长的路径范围内能被观察到，那么它可以作为landmark
- 构造一个index table，将每个物体对应的能观测到它的submap的数目存入表中
- 计算Observability Score O为

$$O\left(G_{1}, G_{2}\right)=\frac{1}{N_{m}} \sum_{i \in A_{12}}\left(1-\exp \left(1-\frac{o_{\max }}{o_{i}}\right)\right)$$

> $o_i$代表每个物体的独立可观性

### 3.4 object的空间分布
